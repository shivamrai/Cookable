{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Shivam\\\\Documents\\\\Team5848test\\\\csc648-sp19-team205\\\\app\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Shivam\\\\Documents\\\\Team5848test\\\\csc648-sp19-team205\\\\app\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Shivam\\\\Documents\\\\Team5848test\\\\csc648-sp19-team205\\\\app\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Shivam\\\\Documents\\\\Team5848test\\\\csc648-sp19-team205\\\\app\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Shivam\\\\Documents\\\\Team5848test\\\\csc648-sp19-team205\\\\app\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Shivam\\\\Documents\\\\Team5848test\\\\csc648-sp19-team205\\\\app\\\\client\\\\src\\\\App.js\";\nimport React, { Component } from \"react\";\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport axios from \"axios\";\nimport \"./styles/App.css\";\nimport MainPage from './pageLayouts/mainPage.js';\nimport LinearProgress from '@material-ui/core/LinearProgress';\n\nvar styles = function styles(theme) {\n  return {\n    progress: {\n      flexGrow: 1,\n      paddingTop: theme.spacing.unit * 20\n    },\n    gif: {\n      paddingTop: theme.spacing.unit * 30\n    }\n  };\n};\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  // Need to add user info from Authorization request.\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n\n    _this.progress = function () {\n      var completed = _this.state.completed;\n\n      if (completed === 100) {\n        _this.setState({\n          completed: 0,\n          isLoading: false\n        });\n      } else {\n        var diff = Math.random() * 300;\n\n        _this.setState({\n          completed: Math.min(completed + diff, 100)\n        });\n      }\n    };\n\n    _this.handleLogin = function (status) {\n      _this.setState({\n        loginStatus: status\n      });\n    };\n\n    _this.handleLogout = function (status) {\n      _this.setState({\n        loginStatus: status,\n        user: {\n          userID: '',\n          username: '',\n          emailAddress: '',\n          isAdmin: false\n        }\n      });\n\n      localStorage.removeItem(\"token\");\n    };\n\n    _this.handleUser = function (user) {\n      _this.setState({\n        user: user\n      });\n    };\n\n    _this.handleSessionAuthorization = function () {\n      var token = localStorage.token;\n      var headers = {\n        'Authorization': 'Bearer ' + token\n      };\n\n      if (token) {\n        axios.get('/v2/protected', {\n          headers: headers\n        }).then(function (response) {\n          console.log(response);\n\n          _this.setState({\n            loginStatus: true,\n            user: response.data\n          });\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n    };\n\n    _this.state = {\n      isLoading: true,\n      completed: 0,\n      loginStatus: false,\n      user: {\n        userID: '',\n        username: '',\n        emailAddress: '',\n        isAdmin: false\n      }\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.handleSessionAuthorization();\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.timer = setInterval(this.progress, 500);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearInterval(this.timer);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var isLoading = this.state.isLoading;\n      var classes = this.props.classes;\n      var renderMainPage = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(MainPage, {\n        loginStatus: this.state.loginStatus,\n        user: this.state.user,\n        handleLogin: this.handleLogin,\n        handleLogout: this.handleLogout,\n        handleUser: this.handleUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }));\n      var renderLoading = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.gif,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: require('./images/cookable.gif'),\n        alt: \"loading ...\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: classes.progress,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(LinearProgress, {\n        variant: \"determinate\",\n        value: this.state.completed,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      })));\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, isLoading ? renderLoading : renderMainPage);\n    }\n  }]);\n\n  return App;\n}(Component);\n\nApp.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(App);","map":{"version":3,"sources":["C:\\Users\\Shivam\\Documents\\Team5848test\\csc648-sp19-team205\\app\\client\\src\\App.js"],"names":["React","Component","PropTypes","withStyles","axios","MainPage","LinearProgress","styles","theme","progress","flexGrow","paddingTop","spacing","unit","gif","App","props","completed","state","setState","isLoading","diff","Math","random","min","handleLogin","status","loginStatus","handleLogout","user","userID","username","emailAddress","isAdmin","localStorage","removeItem","handleUser","handleSessionAuthorization","token","headers","get","then","response","console","log","data","catch","error","timer","setInterval","clearInterval","classes","renderMainPage","renderLoading","require","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport axios from \"axios\";\r\nimport \"./styles/App.css\";\r\nimport MainPage from './pageLayouts/mainPage.js';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\n\r\nconst styles = theme => ({\r\n  progress: {\r\n    flexGrow: 1,\r\n    paddingTop: theme.spacing.unit * 20,\r\n  },\r\n  gif: {\r\n    paddingTop: theme.spacing.unit * 30,\r\n  },\r\n});\r\n\r\nclass App extends Component {\r\n\r\n  // Need to add user info from Authorization request.\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: true,\r\n      completed: 0,\r\n      loginStatus: false,\r\n      user: {\r\n        userID: '',\r\n        username: '',\r\n        emailAddress: '',\r\n        isAdmin: false,\r\n      }\r\n    };\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.handleSessionAuthorization();\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.timer = setInterval(this.progress, 500);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.timer);\r\n  }\r\n\r\n  progress = () => {\r\n    const { completed } = this.state;\r\n    if (completed === 100) {\r\n      this.setState({ completed: 0, isLoading: false });\r\n    } else {\r\n      const diff = Math.random() * 300;\r\n      this.setState({ completed: Math.min(completed + diff, 100) });\r\n    }\r\n  };\r\n\r\n  handleLogin = (status) => {\r\n    this.setState({ loginStatus: status });\r\n  }\r\n\r\n  handleLogout = (status) => {\r\n    this.setState({ \r\n      loginStatus: status,\r\n      user: {\r\n        userID: '',\r\n        username: '',\r\n        emailAddress: '',\r\n        isAdmin: false,\r\n      }             \r\n    });\r\n    localStorage.removeItem(\"token\");\r\n  }\r\n\r\n  handleUser = (user) => {\r\n    this.setState({ user: user });\r\n  }\r\n\r\n  handleSessionAuthorization = () => {\r\n    \r\n    const token = localStorage.token;\r\n\r\n    const headers = {\r\n      'Authorization': 'Bearer ' + token,\r\n    };\r\n\r\n    if(token) {\r\n      axios.get('/v2/protected', {\r\n            headers:  headers,\r\n        })\r\n        .then((response) => {\r\n            console.log(response);\r\n            this.setState({ loginStatus: true, user: response.data });\r\n        })\r\n        .catch((error) => {\r\n            console.log(error);\r\n        });\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n    const isLoading = this.state.isLoading;\r\n    const { classes } = this.props;\r\n\r\n    const renderMainPage = (\r\n      <div>\r\n        <MainPage \r\n          loginStatus={this.state.loginStatus}\r\n          user={this.state.user}\r\n          handleLogin={this.handleLogin}\r\n          handleLogout={this.handleLogout} \r\n          handleUser={this.handleUser}\r\n        />\r\n      </div>\r\n    );\r\n\r\n    const renderLoading = (\r\n      <div>\r\n        <div className={classes.gif}>\r\n          <img src={require('./images/cookable.gif')} alt=\"loading ...\" />\r\n        </div>\r\n        <div className={classes.progress}>\r\n          <LinearProgress variant='determinate' value={this.state.completed}/>\r\n        </div>\r\n      </div>\r\n    );\r\n\r\n    return (\r\n      <div className=\"App\">\r\n        {isLoading ? renderLoading : renderMainPage}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nApp.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(App);"]},"metadata":{},"sourceType":"module"}