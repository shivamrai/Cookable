{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Shivam\\\\Documents\\\\Team5848test\\\\csc648-sp19-team205\\\\app\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Shivam\\\\Documents\\\\Team5848test\\\\csc648-sp19-team205\\\\app\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Shivam\\\\Documents\\\\Team5848test\\\\csc648-sp19-team205\\\\app\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Shivam\\\\Documents\\\\Team5848test\\\\csc648-sp19-team205\\\\app\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Shivam\\\\Documents\\\\Team5848test\\\\csc648-sp19-team205\\\\app\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _defineProperty from \"C:\\\\Users\\\\Shivam\\\\Documents\\\\Team5848test\\\\csc648-sp19-team205\\\\app\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\Shivam\\\\Documents\\\\Team5848test\\\\csc648-sp19-team205\\\\app\\\\client\\\\src\\\\pageLayouts\\\\recipeDisplayPage.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { withStyles } from '@material-ui/core/styles';\nimport Recipe from '../components/recipe.js';\nimport Response from '../components/response.js';\n\nvar styles = function styles(theme) {\n  return {\n    appBar: {\n      position: 'relative'\n    },\n    icon: {\n      marginRight: theme.spacing.unit * 2\n    },\n    heroUnit: {\n      backgroundColor: theme.palette.background.paper\n    },\n    heroContent: {\n      maxWidth: 600,\n      margin: '0 auto',\n      padding: \"\".concat(theme.spacing.unit * 8, \"px 0 \").concat(theme.spacing.unit * 6, \"px\")\n    },\n    heroButtons: {\n      marginTop: theme.spacing.unit * 4\n    },\n    layout: _defineProperty({\n      width: 'auto',\n      marginLeft: theme.spacing.unit * 3,\n      marginRight: theme.spacing.unit * 3\n    }, theme.breakpoints.up(1100 + theme.spacing.unit * 3 * 2), {\n      width: 1100,\n      marginLeft: 'auto',\n      marginRight: 'auto'\n    }),\n    cardGrid: {\n      padding: \"\".concat(theme.spacing.unit * 8, \"px 0\")\n    },\n    card: {\n      height: '100%',\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    cardMedia: {\n      paddingTop: '56.25%' // 16:9\n\n    },\n    cardContent: {\n      flexGrow: 1\n    },\n    footer: {\n      backgroundColor: theme.palette.background.paper,\n      padding: theme.spacing.unit * 6\n    }\n  };\n};\n\nvar RecipeDisplayPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(RecipeDisplayPage, _Component);\n\n  function RecipeDisplayPage(props) {\n    var _this;\n\n    _classCallCheck(this, RecipeDisplayPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(RecipeDisplayPage).call(this, props));\n\n    _this.handleSearch = function (searchInput) {\n      // Use '/api/v1/searchIngredients' when is production.\n      // Use '/v1/searchIngredients' when on local machine.\n      axios.get('/v2/recipe/search', {\n        params: {\n          recipe: searchInput\n        }\n      }).then(function (response) {\n        if (response.data.length === 0) {\n          _this.handleResponse(\"We're sorry, but there doesn't seem to be any recipes that match your search. Please try again.\", \"Recipe doesn't exist!\");\n\n          console.log(response);\n        } else {\n          console.log(response);\n\n          _this.setState({\n            searchResult: response.data\n          });\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.handleRecipeRetrieval = function (recipeID) {\n      axios.get('/v2/recipe/' + recipeID).then(function (response) {\n        if (response.data.length === 0) {\n          console.log(\"Could not retrieve recipe.\");\n          console.log(response);\n        } else {\n          console.log(response);\n\n          _this.setState({\n            selectedValue: response.data\n          });\n\n          console.log(_this.state.selectedValue);\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.handleClickOpen = function (recipeID) {\n      _this.handleRecipeRetrieval(recipeID);\n\n      _this.setState({\n        open: true\n      });\n    };\n\n    _this.handleClose = function (value) {\n      _this.setState({\n        selectedValue: value,\n        open: false\n      });\n\n      _this.handleSearch(_this.props.searchInput);\n    };\n\n    _this.handleResponse = function (response, responseTitle) {\n      _this.setState({\n        responseOpen: true,\n        response: response,\n        responseTitle: responseTitle\n      });\n    };\n\n    _this.handleResponseClose = function () {\n      _this.setState({\n        responseOpen: false,\n        response: '',\n        responseTitle: ''\n      });\n    };\n\n    _this.state = {\n      searchResult: [],\n      selectedValue: {},\n      open: false,\n      responseOpen: false,\n      response: '',\n      responseTitle: ''\n    };\n    return _this;\n  }\n\n  _createClass(RecipeDisplayPage, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      console.log(this.props.searchInput);\n      this.handleSearch(this.props.searchInput);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.searchInput !== prevProps.searchInput) {\n        this.handleSearch(this.props.searchInput);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var classes = this.props.classes;\n      var data = this.state.searchResult;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(CssBaseline, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }), React.createElement(\"main\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.heroUnit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.heroContent,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        component: \"h1\",\n        variant: \"h2\",\n        align: \"center\",\n        color: \"textPrimary\",\n        gutterBottom: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, \"Recipe Results\"), React.createElement(Typography, {\n        variant: \"h6\",\n        align: \"center\",\n        color: \"textSecondary\",\n        paragraph: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, \"Here are the search results for the recipe name or ingredient!\"))), React.createElement(\"div\", {\n        className: classNames(classes.layout, classes.cardGrid),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        spacing: 40,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, data.map(function (recipe) {\n        return React.createElement(Grid, {\n          item: true,\n          key: recipe.recipeID,\n          sm: 6,\n          md: 4,\n          lg: 3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173\n          },\n          __self: this\n        }, React.createElement(Card, {\n          className: classes.card,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174\n          },\n          __self: this\n        }, React.createElement(CardMedia, {\n          className: classes.cardMedia,\n          image: recipe.url,\n          title: \"Image title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175\n          },\n          __self: this\n        }), React.createElement(CardContent, {\n          className: classes.cardContent,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 180\n          },\n          __self: this\n        }, React.createElement(Typography, {\n          gutterBottom: true,\n          variant: \"h5\",\n          component: \"h2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 181\n          },\n          __self: this\n        }, recipe.recipeName), React.createElement(Typography, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184\n          },\n          __self: this\n        }, recipe.description)), React.createElement(CardActions, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188\n          },\n          __self: this\n        }, React.createElement(Button, {\n          size: \"small\",\n          color: \"primary\",\n          onClick: function onClick() {\n            return _this2.handleClickOpen(recipe.recipeID);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 189\n          },\n          __self: this\n        }, \"View\"))));\n      })))), React.createElement(\"footer\", {\n        className: classes.footer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"h6\",\n        align: \"center\",\n        gutterBottom: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, \"Cookable\"), React.createElement(Typography, {\n        variant: \"subtitle1\",\n        align: \"center\",\n        color: \"textSecondary\",\n        component: \"p\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, \"Copyright cookable.com\"))), React.createElement(Recipe, {\n        selectedValue: this.state.selectedValue,\n        open: this.state.open,\n        onClose: this.handleClose,\n        userID: this.props.userID,\n        isAdmin: this.props.isAdmin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }), React.createElement(Response, {\n        open: this.state.responseOpen,\n        onClose: this.handleResponseClose,\n        response: this.state.response,\n        responseTitle: this.state.responseTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return RecipeDisplayPage;\n}(Component);\n\nRecipeDisplayPage.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(RecipeDisplayPage);","map":{"version":3,"sources":["C:\\Users\\Shivam\\Documents\\Team5848test\\csc648-sp19-team205\\app\\client\\src\\pageLayouts\\recipeDisplayPage.js"],"names":["React","Component","axios","PropTypes","classNames","Button","Card","CardActions","CardContent","CardMedia","CssBaseline","Grid","Typography","withStyles","Recipe","Response","styles","theme","appBar","position","icon","marginRight","spacing","unit","heroUnit","backgroundColor","palette","background","paper","heroContent","maxWidth","margin","padding","heroButtons","marginTop","layout","width","marginLeft","breakpoints","up","cardGrid","card","height","display","flexDirection","cardMedia","paddingTop","cardContent","flexGrow","footer","RecipeDisplayPage","props","handleSearch","searchInput","get","params","recipe","then","response","data","length","handleResponse","console","log","setState","searchResult","catch","error","handleRecipeRetrieval","recipeID","selectedValue","state","handleClickOpen","open","handleClose","value","responseTitle","responseOpen","handleResponseClose","prevProps","classes","map","url","recipeName","description","userID","isAdmin","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport Button from '@material-ui/core/Button';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Recipe from '../components/recipe.js';\r\nimport Response from '../components/response.js';\r\n\r\nconst styles = theme => ({\r\n\tappBar: {\r\n\t\tposition: 'relative',\r\n\t},\r\n\ticon: {\r\n\t\tmarginRight: theme.spacing.unit * 2,\r\n\t},\r\n\theroUnit: {\r\n\t\tbackgroundColor: theme.palette.background.paper,\r\n\t},\r\n\theroContent: {\r\n\t\tmaxWidth: 600,\r\n\t\tmargin: '0 auto',\r\n\t\tpadding: `${theme.spacing.unit * 8}px 0 ${theme.spacing.unit * 6}px`,\r\n\t},\r\n\theroButtons: {\r\n\t\tmarginTop: theme.spacing.unit * 4,\r\n\t},\r\n\tlayout: {\r\n\t\twidth: 'auto',\r\n\t\tmarginLeft: theme.spacing.unit * 3,\r\n\t\tmarginRight: theme.spacing.unit * 3,\r\n\t\t[theme.breakpoints.up(1100 + theme.spacing.unit * 3 * 2)]: {\r\n\t\t\twidth: 1100,\r\n\t\t\tmarginLeft: 'auto',\r\n\t\t\tmarginRight: 'auto',\r\n\t\t},\r\n\t},\r\n\tcardGrid: {\r\n\t\tpadding: `${theme.spacing.unit * 8}px 0`,\r\n\t},\r\n\tcard: {\r\n\t\theight: '100%',\r\n\t\tdisplay: 'flex',\r\n\t\tflexDirection: 'column',\r\n\t},\r\n\tcardMedia: {\r\n\t\tpaddingTop: '56.25%', // 16:9\r\n\t},\r\n\tcardContent: {\r\n\t\tflexGrow: 1,\r\n\t},\r\n\tfooter: {\r\n\t\tbackgroundColor: theme.palette.background.paper,\r\n\t\tpadding: theme.spacing.unit * 6,\r\n\t},\r\n});\r\n\r\nclass RecipeDisplayPage extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tsearchResult: [],\r\n\t\t\tselectedValue: {},\r\n\t\t\topen: false,\r\n\t\t\tresponseOpen: false,\r\n\t\t\tresponse: '',\r\n      \t\tresponseTitle: '',\r\n\t\t};\r\n\t}\r\n\r\n\thandleSearch = (searchInput) => {\r\n\t\t// Use '/api/v1/searchIngredients' when is production.\r\n\t\t// Use '/v1/searchIngredients' when on local machine.\r\n\t\taxios.get('/v2/recipe/search', {\r\n\t\t\tparams: {\r\n\t\t\t\trecipe: searchInput\r\n\t\t\t}\r\n\t\t})\r\n\t\t.then((response) => {\r\n\t\t\tif(response.data.length === 0) {\r\n\t\t\t\tthis.handleResponse(\"We're sorry, but there doesn't seem to be any recipes that match your search. Please try again.\", \"Recipe doesn't exist!\")\r\n\t\t\t\tconsole.log(response);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tconsole.log(response);\r\n\t\t\t\tthis.setState({ searchResult: response.data });\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch((error) => {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n\t}\r\n\t\r\n\thandleRecipeRetrieval = (recipeID) => {\r\n\t\taxios.get(('/v2/recipe/' + recipeID))\r\n\t\t.then((response) => {\r\n\t\t\tif(response.data.length === 0) {\r\n\t\t\t\tconsole.log(\"Could not retrieve recipe.\");\r\n\t\t\t\tconsole.log(response);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tconsole.log(response);\r\n\t\t\t\tthis.setState({ selectedValue: response.data });\r\n\t\t\t\tconsole.log(this.state.selectedValue);\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch((error) => {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n\t}\r\n\r\n\thandleClickOpen = (recipeID) => {\r\n\t\tthis.handleRecipeRetrieval(recipeID);\r\n\t\tthis.setState({ open: true, });\r\n\t}\r\n\r\n\thandleClose = value => {\r\n\t\tthis.setState({ selectedValue: value, open: false });\r\n\t\tthis.handleSearch(this.props.searchInput);\r\n\t}\r\n\r\n\thandleResponse = (response, responseTitle) => {\r\n\t    this.setState({ responseOpen: true, response: response, responseTitle: responseTitle });\r\n\t}\r\n\r\n  \thandleResponseClose = () => {\r\n\t    this.setState({ responseOpen: false, response: '', responseTitle: '' });\r\n\t}\r\n\r\n\tcomponentWillMount() {\r\n\t\tconsole.log(this.props.searchInput);\r\n\t\tthis.handleSearch(this.props.searchInput);\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (this.props.searchInput !== prevProps.searchInput) {\r\n\t\t\tthis.handleSearch(this.props.searchInput);\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\t\tconst data = this.state.searchResult;\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t<CssBaseline />\r\n\t\t\t\t\t<main>\r\n\t\t\t\t\t\t{/* Hero unit */}\r\n\t\t\t\t\t\t<div className={classes.heroUnit}>\r\n\t\t\t\t\t\t\t<div className={classes.heroContent}>\r\n\t\t\t\t\t\t\t\t<Typography component=\"h1\" variant=\"h2\" align=\"center\" color=\"textPrimary\" gutterBottom>\r\n\t\t\t\t\t\t\t\t\tRecipe Results\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Typography variant=\"h6\" align=\"center\" color=\"textSecondary\" paragraph>\r\n\t\t\t\t\t\t\t\t\tHere are the search results for the recipe name or ingredient!\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={classNames(classes.layout, classes.cardGrid)}>\r\n\t\t\t\t\t\t\t{/* End hero unit */}\r\n\t\t\t\t\t\t\t<Grid container spacing={40}>\r\n\t\t\t\t\t\t\t\t{data.map(recipe => (\r\n\t\t\t\t\t\t\t\t\t<Grid item key={recipe.recipeID} sm={6} md={4} lg={3}>\r\n\t\t\t\t\t\t\t\t\t\t<Card className={classes.card}>\r\n\t\t\t\t\t\t\t\t\t\t\t<CardMedia\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.cardMedia}\r\n\t\t\t\t\t\t\t\t\t\t\t\timage={recipe.url}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttitle=\"Image title\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<CardContent className={classes.cardContent}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{recipe.recipeName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{recipe.description}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</CardContent>\r\n\t\t\t\t\t\t\t\t\t\t\t<CardActions>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button size=\"small\" color=\"primary\" onClick={() => this.handleClickOpen(recipe.recipeID)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tView\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</CardActions>\r\n\t\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</main>\r\n\t\t\t\t\t{/* Footer */}\r\n\t\t\t\t\t<footer className={classes.footer}>\r\n\t\t\t\t\t\t<Typography variant=\"h6\" align=\"center\" gutterBottom>\r\n\t\t\t\t\t\t\tCookable\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography variant=\"subtitle1\" align=\"center\" color=\"textSecondary\" component=\"p\">\r\n\t\t\t\t\t\t\tCopyright cookable.com\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</footer>\r\n\t\t\t\t\t{/* End footer */}\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t\t<Recipe\r\n\t\t\t\t\tselectedValue={this.state.selectedValue}\r\n\t\t\t\t\topen={this.state.open}\r\n\t\t\t\t\tonClose={this.handleClose}\r\n\t\t\t\t\tuserID={this.props.userID}\r\n\t\t\t\t\tisAdmin={this.props.isAdmin}\r\n\t\t\t\t/>\r\n\t\t\t\t<Response \r\n\t\t          \topen={this.state.responseOpen}\r\n\t\t          \tonClose={this.handleResponseClose}\r\n\t\t          \tresponse={this.state.response}\r\n\t\t          \tresponseTitle={this.state.responseTitle}\r\n\t\t        />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nRecipeDisplayPage.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(RecipeDisplayPage);"]},"metadata":{},"sourceType":"module"}