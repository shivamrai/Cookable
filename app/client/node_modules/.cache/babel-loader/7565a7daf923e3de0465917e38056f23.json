{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Shivam\\\\Documents\\\\Team5848test\\\\csc648-sp19-team205\\\\app\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Shivam\\\\Documents\\\\Team5848test\\\\csc648-sp19-team205\\\\app\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Shivam\\\\Documents\\\\Team5848test\\\\csc648-sp19-team205\\\\app\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Shivam\\\\Documents\\\\Team5848test\\\\csc648-sp19-team205\\\\app\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Shivam\\\\Documents\\\\Team5848test\\\\csc648-sp19-team205\\\\app\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _defineProperty from \"C:\\\\Users\\\\Shivam\\\\Documents\\\\Team5848test\\\\csc648-sp19-team205\\\\app\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\Shivam\\\\Documents\\\\Team5848test\\\\csc648-sp19-team205\\\\app\\\\client\\\\src\\\\pageLayouts\\\\registerPage.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport PropTypes from 'prop-types';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Response from '../components/response.js';\n\nvar styles = function styles(theme) {\n  return {\n    main: _defineProperty({\n      width: 'auto',\n      display: 'block',\n      // Fix IE 11 issue.\n      marginLeft: theme.spacing.unit * 3,\n      marginRight: theme.spacing.unit * 3\n    }, theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2), {\n      width: 400,\n      marginLeft: 'auto',\n      marginRight: 'auto'\n    }),\n    paper: {\n      marginTop: theme.spacing.unit * 8,\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      padding: \"\".concat(theme.spacing.unit * 2, \"px \").concat(theme.spacing.unit * 3, \"px \").concat(theme.spacing.unit * 3, \"px\")\n    },\n    avatar: {\n      margin: theme.spacing.unit,\n      backgroundColor: theme.palette.secondary.main\n    },\n    form: {\n      width: '100%',\n      // Fix IE 11 issue.\n      marginTop: theme.spacing.unit\n    },\n    submit: {\n      marginTop: theme.spacing.unit * 3\n    }\n  };\n};\n\nvar RegisterPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(RegisterPage, _Component);\n\n  function RegisterPage(props) {\n    var _this;\n\n    _classCallCheck(this, RegisterPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(RegisterPage).call(this, props));\n\n    _this.handleCreateUser = function (event) {\n      if (_this.state.email.length === 0) {\n        _this.handleResponse(\"It seems you haven't provided an email address. Please provide a valid email address and submit the form again.\", \"No email\");\n      } else if (!_this.validateEmail(_this.state.email)) {\n        _this.handleResponse(\"The email address that you have provided is invalid. Please provide a valid email address and submit the form again.\", \"Invalid email\");\n      } else if (_this.state.username.length === 0) {\n        _this.handleResponse(\"It seems you haven't provided a username. Please provide a username and submit the form again.\", \"No username\");\n      } else if (_this.state.password.length === 0) {\n        _this.handleResponse(\"It seems you haven't provided a password. Please provide and password and submit the form again.\", \"No password\");\n      } else if (_this.state.password !== _this.state.confirmPassword) {\n        _this.handleResponse(\"The passwords that you have provided do not match. Please re-enter the password and submit the form again.\", \"Passwords do not match\");\n      } else {\n        // Use '/api/v2/user/create' when is production.\n        // Use '/v2/user/create' when on local machine.\n        axios.post('/v2/user/create', {\n          username: _this.state.username,\n          email: _this.state.email,\n          password: _this.state.password,\n          confirmPassword: _this.state.confirmPassword\n        }).then(function (response) {\n          console.log(response);\n\n          _this.handleResponse(\"Your account was successfully created! Thank you for joining Cookable!\", \"Registration Complete!\");\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n    };\n\n    _this.validateEmail = function (email) {\n      var mailFormat = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n      return mailFormat.test(String(email).toLowerCase());\n    };\n\n    _this.handleResponse = function (response, responseTitle) {\n      _this.setState({\n        open: true,\n        response: response,\n        responseTitle: responseTitle\n      });\n    };\n\n    _this.handleResponseClose = function () {\n      _this.setState({\n        open: false,\n        response: '',\n        responseTitle: ''\n      });\n    };\n\n    _this.handleChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.id, event.target.value));\n    };\n\n    _this.state = {\n      username: \"\",\n      email: \"\",\n      password: \"\",\n      confirmPassword: \"\",\n      open: false,\n      response: '',\n      responseTitle: ''\n    };\n    return _this;\n  }\n\n  _createClass(RegisterPage, [{\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"main\", {\n        className: classes.main,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(CssBaseline, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }), React.createElement(Paper, {\n        className: classes.paper,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(Avatar, {\n        className: classes.avatar,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(LockOutlinedIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      })), React.createElement(Typography, {\n        component: \"h1\",\n        variant: \"h5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"Register\"), React.createElement(\"form\", {\n        className: classes.form,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        margin: \"normal\",\n        required: true,\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(InputLabel, {\n        htmlFor: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, \"Email Address\"), React.createElement(Input, {\n        id: \"email\",\n        name: \"email\",\n        autoComplete: \"email\",\n        onChange: this.handleChange,\n        autoFocus: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      })), React.createElement(FormControl, {\n        margin: \"normal\",\n        required: true,\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(InputLabel, {\n        htmlFor: \"username\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, \"Username\"), React.createElement(Input, {\n        id: \"username\",\n        name: \"username\",\n        autoComplete: \"username\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      })), React.createElement(FormControl, {\n        margin: \"normal\",\n        required: true,\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(InputLabel, {\n        htmlFor: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, \"Password\"), React.createElement(Input, {\n        name: \"password\",\n        type: \"password\",\n        id: \"password\",\n        onChange: this.handleChange,\n        autoComplete: \"current-password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      })), React.createElement(FormControl, {\n        margin: \"normal\",\n        required: true,\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(InputLabel, {\n        htmlFor: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, \"Confirm Password\"), React.createElement(Input, {\n        name: \"confirmPassword\",\n        type: \"password\",\n        id: \"confirmPassword\",\n        onChange: this.handleChange,\n        autoComplete: \"current-password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      })), React.createElement(FormControlLabel, {\n        control: React.createElement(Checkbox, {\n          value: \"terms\",\n          color: \"primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151\n          },\n          __self: this\n        }),\n        label: \"I accept the Terms of Service.\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }), React.createElement(Button, {\n        fullWidth: true,\n        variant: \"contained\",\n        color: \"primary\",\n        className: classes.submit,\n        onClick: this.handleCreateUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, \"Create Account\")))), React.createElement(Response, {\n        open: this.state.open,\n        onClose: this.handleResponseClose,\n        response: this.state.response,\n        responseTitle: this.state.responseTitle,\n        handlePageChange: this.props.handlePageChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return RegisterPage;\n}(Component);\n\nRegisterPage.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(RegisterPage);","map":{"version":3,"sources":["C:\\Users\\Shivam\\Documents\\Team5848test\\csc648-sp19-team205\\app\\client\\src\\pageLayouts\\registerPage.js"],"names":["React","Component","axios","PropTypes","Avatar","Button","CssBaseline","FormControl","FormControlLabel","Checkbox","Input","InputLabel","LockOutlinedIcon","Paper","Typography","withStyles","Response","styles","theme","main","width","display","marginLeft","spacing","unit","marginRight","breakpoints","up","paper","marginTop","flexDirection","alignItems","padding","avatar","margin","backgroundColor","palette","secondary","form","submit","RegisterPage","props","handleCreateUser","event","state","email","length","handleResponse","validateEmail","username","password","confirmPassword","post","then","response","console","log","catch","error","mailFormat","test","String","toLowerCase","responseTitle","setState","open","handleResponseClose","handleChange","target","id","value","classes","handlePageChange","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport PropTypes from 'prop-types';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Response from '../components/response.js';\r\n\r\nconst styles = theme => ({\r\n  main: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing.unit * 3,\r\n    marginRight: theme.spacing.unit * 3,\r\n    [theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\r\n      width: 400,\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing.unit * 8,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing.unit,\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing.unit,\r\n  },\r\n  submit: {\r\n    marginTop: theme.spacing.unit * 3,\r\n  },\r\n});\r\n\r\nclass RegisterPage extends Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tusername: \"\",\r\n\t\t\temail: \"\",\r\n\t\t\tpassword: \"\",\r\n\t\t\tconfirmPassword: \"\",\r\n      open: false,\r\n      response: '',\r\n      responseTitle: '',\r\n\t\t};\r\n\t}\r\n\r\n\thandleCreateUser = event => {\r\n    if(this.state.email.length === 0) {\r\n      this.handleResponse(\"It seems you haven't provided an email address. Please provide a valid email address and submit the form again.\", \"No email\");\r\n    }\r\n    else if(!(this.validateEmail(this.state.email))) {\r\n      this.handleResponse(\"The email address that you have provided is invalid. Please provide a valid email address and submit the form again.\", \"Invalid email\");\r\n    }\r\n    else if(this.state.username.length === 0) {\r\n      this.handleResponse(\"It seems you haven't provided a username. Please provide a username and submit the form again.\", \"No username\");\r\n    }\r\n    else if(this.state.password.length === 0) {\r\n      this.handleResponse(\"It seems you haven't provided a password. Please provide and password and submit the form again.\", \"No password\");\r\n    }\r\n\t\telse if(this.state.password !== this.state.confirmPassword) {\r\n      this.handleResponse(\"The passwords that you have provided do not match. Please re-enter the password and submit the form again.\", \"Passwords do not match\");\r\n\t\t}\r\n    else {\r\n      // Use '/api/v2/user/create' when is production.\r\n      // Use '/v2/user/create' when on local machine.\r\n      axios.post('/v2/user/create', {\r\n              username: this.state.username,\r\n              email: this.state.email,\r\n              password: this.state.password,\r\n              confirmPassword: this.state.confirmPassword,\r\n          })\r\n          .then((response) => {\r\n              console.log(response);\r\n              this.handleResponse(\"Your account was successfully created! Thank you for joining Cookable!\", \"Registration Complete!\");\r\n          })\r\n          .catch((error) => {\r\n              console.log(error);\r\n          });\r\n    }\r\n\t}\r\n\r\n  validateEmail = (email) => {\r\n    const mailFormat = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return mailFormat.test(String(email).toLowerCase());\r\n  }\r\n\r\n  handleResponse = (response, responseTitle) => {\r\n    this.setState({ open: true, response: response, responseTitle: responseTitle });\r\n  }\r\n\r\n  handleResponseClose = () => {\r\n    this.setState({ open: false, response: '', responseTitle: '' });\r\n  }\r\n\t\r\n\thandleChange = event => {\r\n\t\tthis.setState({\r\n      \t\t[event.target.id]: event.target.value\r\n    });\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\treturn (\r\n      <div>\r\n        <main className={classes.main}>\r\n    \t\t\t<CssBaseline />\r\n    \t\t\t<Paper className={classes.paper}>\r\n      \t\t\t<Avatar className={classes.avatar}>\r\n        \t\t\t\t<LockOutlinedIcon />\r\n      \t\t\t</Avatar>\r\n      \t\t\t<Typography component=\"h1\" variant=\"h5\">\r\n        \t\t\t\tRegister\r\n      \t\t\t</Typography>\r\n      \t\t\t<form className={classes.form}>\r\n      \t\t\t\t<FormControl margin=\"normal\" required fullWidth>\r\n        \t\t\t\t<InputLabel htmlFor=\"email\">Email Address</InputLabel>\r\n        \t\t\t\t<Input id=\"email\" name=\"email\" autoComplete=\"email\" onChange={this.handleChange} autoFocus />\r\n      \t\t\t\t</FormControl>\r\n      \t\t\t\t<FormControl margin=\"normal\" required fullWidth>\r\n        \t\t\t\t<InputLabel htmlFor=\"username\">Username</InputLabel>\r\n        \t\t\t\t<Input id=\"username\" name=\"username\" autoComplete=\"username\" onChange={this.handleChange} />\r\n      \t\t\t\t</FormControl>\r\n      \t\t\t\t<FormControl margin=\"normal\" required fullWidth>\r\n        \t\t\t\t<InputLabel htmlFor=\"password\">Password</InputLabel>\r\n        \t\t\t\t<Input name=\"password\" type=\"password\" id=\"password\" onChange={this.handleChange} autoComplete=\"current-password\" />\r\n      \t\t\t\t</FormControl>\r\n      \t\t\t\t<FormControl margin=\"normal\" required fullWidth>\r\n        \t\t\t\t<InputLabel htmlFor=\"password\">Confirm Password</InputLabel>\r\n        \t\t\t\t<Input name=\"confirmPassword\" type=\"password\" id=\"confirmPassword\" onChange={this.handleChange} autoComplete=\"current-password\" />\r\n      \t\t\t\t</FormControl>\r\n      \t\t\t\t<FormControlLabel\r\n        \t\t\t\tcontrol={<Checkbox value=\"terms\" color=\"primary\" />}\r\n        \t\t\t\tlabel=\"I accept the Terms of Service.\"\r\n      \t\t\t\t/>\r\n      \t\t\t\t{/*\r\n      \t\t\t\t type=\"submit\"\r\n      \t\t\t\t add keyPress 'enter' functionality to Sign in button\r\n      \t\t\t \t*/}\r\n      \t\t\t\t<Button\r\n        \t\t\t\tfullWidth\r\n        \t\t\t\tvariant=\"contained\"\r\n        \t\t\t\tcolor=\"primary\"\r\n        \t\t\t\tclassName={classes.submit}\r\n        \t\t\t\tonClick={this.handleCreateUser}\r\n      \t\t\t\t>\r\n        \t\t\t\tCreate Account\r\n      \t\t\t\t</Button>\r\n      \t\t\t</form>\r\n    \t\t\t</Paper>\r\n    \t\t</main>\r\n        <Response \r\n          open={this.state.open}\r\n          onClose={this.handleResponseClose}\r\n          response={this.state.response}\r\n          responseTitle={this.state.responseTitle}\r\n          handlePageChange={this.props.handlePageChange}\r\n        />\r\n      </div>\r\n\t\t);\r\n\t};\r\n}\r\n\r\nRegisterPage.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(RegisterPage);"]},"metadata":{},"sourceType":"module"}