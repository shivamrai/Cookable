{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Shivam\\\\Documents\\\\Team5848test\\\\csc648-sp19-team205\\\\app\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Shivam\\\\Documents\\\\Team5848test\\\\csc648-sp19-team205\\\\app\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Shivam\\\\Documents\\\\Team5848test\\\\csc648-sp19-team205\\\\app\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Shivam\\\\Documents\\\\Team5848test\\\\csc648-sp19-team205\\\\app\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Shivam\\\\Documents\\\\Team5848test\\\\csc648-sp19-team205\\\\app\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _defineProperty from \"C:\\\\Users\\\\Shivam\\\\Documents\\\\Team5848test\\\\csc648-sp19-team205\\\\app\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\Shivam\\\\Documents\\\\Team5848test\\\\csc648-sp19-team205\\\\app\\\\client\\\\src\\\\pageLayouts\\\\loginPage.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport PropTypes from 'prop-types';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Response from '../components/response.js';\n\nvar styles = function styles(theme) {\n  return {\n    main: _defineProperty({\n      width: 'auto',\n      display: 'block',\n      // Fix IE 11 issue.\n      marginLeft: theme.spacing.unit * 3,\n      marginRight: theme.spacing.unit * 3\n    }, theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2), {\n      width: 400,\n      marginLeft: 'auto',\n      marginRight: 'auto'\n    }),\n    paper: {\n      marginTop: theme.spacing.unit * 8,\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      padding: \"\".concat(theme.spacing.unit * 2, \"px \").concat(theme.spacing.unit * 3, \"px \").concat(theme.spacing.unit * 3, \"px\")\n    },\n    avatar: {\n      margin: theme.spacing.unit,\n      backgroundColor: theme.palette.secondary.main\n    },\n    form: {\n      width: '100%',\n      // Fix IE 11 issue.\n      marginTop: theme.spacing.unit\n    },\n    submit: {\n      marginTop: theme.spacing.unit * 3\n    }\n  };\n};\n\nvar LoginPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(LoginPage, _Component);\n\n  function LoginPage(props) {\n    var _this;\n\n    _classCallCheck(this, LoginPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LoginPage).call(this, props));\n\n    _this.handleLogin = function (event) {\n      // Use '/api/v2/user/login' when is production.\n      // Use '/v2/user/login' when on local machine.\n      axios.post('/v2/user/login', {\n        user: _this.state.user,\n        password: _this.state.password\n      }).then(function (response) {\n        console.log(response);\n\n        if (response.data === \"User does not exist\") {\n          _this.handleResponse(\"We're sorry, but the user that you have provided does not exist. Please try again.\", \"User does not exist\");\n        } else if (response.data === \"Incorrect Password\") {\n          _this.handleResponse(\"We're sorry, but the password you provided for the given username is incorrect. Please try again.\", \"Incorrect Password\");\n        } else {\n          _this.props.handleUser({\n            userID: response.data.userID,\n            username: response.data.username,\n            emailAddress: response.data.emailAddress,\n            isAdmin: response.data.isAdmin\n          });\n\n          _this.props.handleLoginStatus(true);\n\n          localStorage.setItem(\"token\", response.data.token);\n\n          _this.props.handlePageChange(\"recommendationsPage\");\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.handleResponse = function (response, responseTitle) {\n      _this.setState({\n        open: true,\n        response: response,\n        responseTitle: responseTitle\n      });\n    };\n\n    _this.handleResponseClose = function () {\n      _this.setState({\n        open: false,\n        response: '',\n        responseTitle: ''\n      });\n    };\n\n    _this.handleChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.id, event.target.value));\n    };\n\n    _this.state = {\n      user: \"\",\n      password: \"\",\n      open: false,\n      response: '',\n      responseTitle: ''\n    };\n    return _this;\n  }\n\n  _createClass(LoginPage, [{\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"main\", {\n        className: classes.main,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(CssBaseline, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }), React.createElement(Paper, {\n        className: classes.paper,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(Avatar, {\n        className: classes.avatar,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(LockOutlinedIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      })), React.createElement(Typography, {\n        component: \"h1\",\n        variant: \"h5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"Sign in\"), React.createElement(\"form\", {\n        className: classes.form,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        margin: \"normal\",\n        required: true,\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(InputLabel, {\n        htmlFor: \"user\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \"Username or Email Address\"), React.createElement(Input, {\n        id: \"user\",\n        name: \"user\",\n        onChange: this.handleChange,\n        autoComplete: \"user\",\n        autoFocus: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      })), React.createElement(FormControl, {\n        margin: \"normal\",\n        required: true,\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(InputLabel, {\n        htmlFor: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, \"Password\"), React.createElement(Input, {\n        name: \"password\",\n        type: \"password\",\n        id: \"password\",\n        onChange: this.handleChange,\n        autoComplete: \"current-password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      })), React.createElement(FormControlLabel, {\n        control: React.createElement(Checkbox, {\n          value: \"remember\",\n          color: \"primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        }),\n        label: \"Remember me\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }), React.createElement(Button, {\n        fullWidth: true,\n        variant: \"contained\",\n        color: \"primary\",\n        className: classes.submit,\n        onClick: this.handleLogin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \"Sign in\")))), React.createElement(Response, {\n        open: this.state.open,\n        onClose: this.handleResponseClose,\n        response: this.state.response,\n        responseTitle: this.state.responseTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return LoginPage;\n}(Component);\n\nLoginPage.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(LoginPage);","map":{"version":3,"sources":["C:\\Users\\Shivam\\Documents\\Team5848test\\csc648-sp19-team205\\app\\client\\src\\pageLayouts\\loginPage.js"],"names":["React","Component","axios","PropTypes","Avatar","Button","CssBaseline","FormControl","FormControlLabel","Checkbox","Input","InputLabel","LockOutlinedIcon","Paper","Typography","withStyles","Response","styles","theme","main","width","display","marginLeft","spacing","unit","marginRight","breakpoints","up","paper","marginTop","flexDirection","alignItems","padding","avatar","margin","backgroundColor","palette","secondary","form","submit","LoginPage","props","handleLogin","event","post","user","state","password","then","response","console","log","data","handleResponse","handleUser","userID","username","emailAddress","isAdmin","handleLoginStatus","localStorage","setItem","token","handlePageChange","catch","error","responseTitle","setState","open","handleResponseClose","handleChange","target","id","value","classes","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport PropTypes from 'prop-types';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Response from '../components/response.js';\r\n\r\nconst styles = theme => ({\r\n  main: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing.unit * 3,\r\n    marginRight: theme.spacing.unit * 3,\r\n    [theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\r\n      width: 400,\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing.unit * 8,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing.unit,\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing.unit,\r\n  },\r\n  submit: {\r\n    marginTop: theme.spacing.unit * 3,\r\n  },\r\n});\r\n\r\nclass LoginPage extends Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tuser: \"\",\r\n\t\t\tpassword: \"\",\r\n      open: false,\r\n      response: '',\r\n      responseTitle: '',\r\n\t\t};\r\n\t}\r\n\r\n\thandleLogin = event => {\r\n  // Use '/api/v2/user/login' when is production.\r\n  // Use '/v2/user/login' when on local machine.\r\n\t\taxios.post('/v2/user/login', {\r\n      \t\tuser: this.state.user,\r\n      \t\tpassword: this.state.password,\r\n\t    })\r\n\t    .then((response) => {\r\n        console.log(response);\r\n        if(response.data === \"User does not exist\") {\r\n          this.handleResponse(\"We're sorry, but the user that you have provided does not exist. Please try again.\", \"User does not exist\")\r\n        }\r\n        else if(response.data === \"Incorrect Password\") {\r\n          this.handleResponse(\"We're sorry, but the password you provided for the given username is incorrect. Please try again.\", \"Incorrect Password\")\r\n        }\r\n        else {\r\n          this.props.handleUser(\r\n            { \r\n              userID: response.data.userID,\r\n              username: response.data.username,\r\n              emailAddress: response.data.emailAddress,\r\n              isAdmin: response.data.isAdmin,\r\n            }\r\n          );\r\n\t      \tthis.props.handleLoginStatus(true);\r\n          localStorage.setItem(\"token\", response.data.token);\r\n          this.props.handlePageChange(\"recommendationsPage\");\r\n        }\r\n\t    })\r\n\t    .catch((error) => {\r\n\t      \tconsole.log(error);\r\n\t    });\r\n\t}\r\n\r\n  handleResponse = (response, responseTitle) => {\r\n    this.setState({ open: true, response: response, responseTitle: responseTitle });\r\n  }\r\n\r\n  handleResponseClose = () => {\r\n    this.setState({ open: false, response: '', responseTitle: '' });\r\n  }\r\n\t\r\n\thandleChange = event => {\r\n\t\tthis.setState({\r\n      \t\t[event.target.id]: event.target.value\r\n    });\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\treturn (\r\n      <div>\r\n  \t\t\t<main className={classes.main}>\r\n    \t\t\t<CssBaseline />\r\n    \t\t\t<Paper className={classes.paper}>\r\n      \t\t\t<Avatar className={classes.avatar}>\r\n        \t\t\t\t<LockOutlinedIcon />\r\n      \t\t\t</Avatar>\r\n      \t\t\t<Typography component=\"h1\" variant=\"h5\">\r\n        \t\t\t\tSign in\r\n      \t\t\t</Typography>\r\n      \t\t\t<form className={classes.form}>\r\n        \t\t\t\t<FormControl margin=\"normal\" required fullWidth>\r\n          \t\t\t\t<InputLabel htmlFor=\"user\">Username or Email Address</InputLabel>\r\n          \t\t\t\t<Input id=\"user\" name=\"user\" onChange={this.handleChange} autoComplete=\"user\" autoFocus />\r\n        \t\t\t\t</FormControl>\r\n        \t\t\t\t<FormControl margin=\"normal\" required fullWidth>\r\n          \t\t\t\t<InputLabel htmlFor=\"password\">Password</InputLabel>\r\n          \t\t\t\t<Input name=\"password\" type=\"password\" id=\"password\" onChange={this.handleChange} autoComplete=\"current-password\" />\r\n        \t\t\t\t</FormControl>\r\n        \t\t\t\t<FormControlLabel\r\n          \t\t\t\tcontrol={<Checkbox value=\"remember\" color=\"primary\" />}\r\n          \t\t\t\tlabel=\"Remember me\"\r\n        \t\t\t\t/>\r\n        \t\t\t\t{/*\r\n        \t\t\t\t type=\"submit\"\r\n        \t\t\t\t add keyPress 'enter' functionality to Sign in button\r\n        \t\t\t \t*/}\r\n        \t\t\t\t<Button\r\n          \t\t\t\tfullWidth\r\n          \t\t\t\tvariant=\"contained\"\r\n          \t\t\t\tcolor=\"primary\"\r\n          \t\t\t\tclassName={classes.submit}\r\n          \t\t\t\tonClick={this.handleLogin}\r\n        \t\t\t\t>\r\n          \t\t\t\tSign in\r\n        \t\t\t\t</Button>\r\n      \t\t\t</form>\r\n    \t\t\t</Paper>\r\n    \t\t</main>\r\n        <Response \r\n          open={this.state.open}\r\n          onClose={this.handleResponseClose}\r\n          response={this.state.response}\r\n          responseTitle={this.state.responseTitle}\r\n        />\r\n      </div>\r\n\t\t);\r\n\t};\r\n}\r\n\r\nLoginPage.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(LoginPage);"]},"metadata":{},"sourceType":"module"}