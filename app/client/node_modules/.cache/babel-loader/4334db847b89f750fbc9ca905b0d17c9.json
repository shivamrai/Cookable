{"ast":null,"code":"import _objectWithoutProperties from \"C:\\\\Users\\\\Shivam\\\\Documents\\\\Team5848test\\\\csc648-sp19-team205\\\\app\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"C:\\\\Users\\\\Shivam\\\\Documents\\\\Team5848test\\\\csc648-sp19-team205\\\\app\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Shivam\\\\Documents\\\\Team5848test\\\\csc648-sp19-team205\\\\app\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Shivam\\\\Documents\\\\Team5848test\\\\csc648-sp19-team205\\\\app\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Shivam\\\\Documents\\\\Team5848test\\\\csc648-sp19-team205\\\\app\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Shivam\\\\Documents\\\\Team5848test\\\\csc648-sp19-team205\\\\app\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Shivam\\\\Documents\\\\Team5848test\\\\csc648-sp19-team205\\\\app\\\\client\\\\src\\\\components\\\\recipe.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport blue from '@material-ui/core/colors/blue';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CardContent from '@material-ui/core/CardContent';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Avatar from '@material-ui/core/Avatar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport Response from './response.js';\n\nvar styles = function styles(theme) {\n  return {\n    card: {\n      maxWidth: 400\n    },\n    media: {\n      height: 0,\n      paddingTop: '56.25%' // 16:9\n\n    },\n    actions: {\n      display: 'flex'\n    },\n    expand: {\n      transform: 'rotate(0deg)',\n      marginLeft: 'auto',\n      transition: theme.transitions.create('transform', {\n        duration: theme.transitions.duration.shortest\n      })\n    },\n    expandOpen: {\n      transform: 'rotate(180deg)'\n    },\n    avatar: {\n      backgroundColor: blue[100],\n      color: blue[600]\n    }\n  };\n};\n\nvar Recipe =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Recipe, _Component);\n\n  function Recipe(props) {\n    var _this;\n\n    _classCallCheck(this, Recipe);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Recipe).call(this, props));\n\n    _this.handleClose = function () {\n      _this.props.onClose(_this.props.selectedValue);\n    };\n\n    _this.handleAddFavorite = function (userID, recipeID) {\n      var token = localStorage.token;\n      var headers = {\n        'Authorization': 'Bearer ' + token\n      };\n\n      if (token) {\n        axios.post('/v2/user/favorite/add', {\n          userID: userID,\n          recipeID: recipeID\n        }, {\n          headers: headers\n        }).then(function (response) {\n          console.log(response);\n\n          if (response.statusText === \"Created\") {\n            _this.handleResponse(\"Recipe was successfully added to your favorites.\", \"Success!\");\n          } else if (response.statusText === \"OK\") {\n            _this.handleResponse(\"Looks like it's already in your favorites.\", \"Whoops!\");\n          }\n        }).catch(function (error) {\n          console.log(error);\n        });\n      } else {\n        console.log(\"Must be logged in to perform this action\");\n      }\n    };\n\n    _this.handleAdminDeleteRecipe = function (userID, recipeID) {\n      var token = localStorage.token;\n      var headers = {\n        'Authorization': 'Bearer ' + token\n      };\n      axios.post('/v2/admin/deleteRecipe', {\n        userID: userID,\n        recipeID: recipeID\n      }, {\n        headers: headers\n      }).then(function (response) {\n        console.log(response);\n\n        if (response.data.msg === \"Recipe removed\") {\n          _this.handleResponse(\"Recipe was successfully removed.\", \"Success!\");\n        } else {\n          _this.handleResponse(\"Recipe could not be removed.\", \"Error!\");\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n      console.log(\"handleAdminDeleteRecipe\");\n    };\n\n    _this.handleResponse = function (response, responseTitle) {\n      _this.setState({\n        open: true,\n        response: response,\n        responseTitle: responseTitle\n      });\n    };\n\n    _this.handleResponseClose = function () {\n      _this.setState({\n        open: false,\n        response: '',\n        responseTitle: ''\n      });\n    };\n\n    _this.state = {\n      open: false,\n      response: '',\n      responseTitle: ''\n    };\n    return _this;\n  }\n\n  _createClass(Recipe, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          onClose = _this$props.onClose,\n          selectedValue = _this$props.selectedValue,\n          userID = _this$props.userID,\n          isAdmin = _this$props.isAdmin,\n          other = _objectWithoutProperties(_this$props, [\"classes\", \"onClose\", \"selectedValue\", \"userID\", \"isAdmin\"]);\n\n      var renderAdminDeleteButton = React.createElement(Button, {\n        onClick: function onClick() {\n          return _this2.handleAdminDeleteRecipe(userID, selectedValue.recipeID);\n        },\n        variant: \"contained\",\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, \"Delete\");\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(Dialog, Object.assign({\n        scroll: \"paper\",\n        onClose: this.handleClose,\n        \"aria-labelledby\": \"simple-dialog-title\"\n      }, other, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }), React.createElement(DialogContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(Card, {\n        className: classes.card,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(CardHeader, {\n        avatar: React.createElement(Avatar, {\n          \"aria-label\": \"Recipe\",\n          className: classes.avatar,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }, \"R\"),\n        action: React.createElement(IconButton, {\n          onClick: function onClick() {\n            return _this2.handleAddFavorite(userID, selectedValue.recipeID);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153\n          },\n          __self: this\n        }, React.createElement(FavoriteIcon, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        })),\n        title: selectedValue.recipeName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }), React.createElement(CardMedia, {\n        className: classes.media,\n        image: selectedValue.recipeImages && selectedValue.recipeImages.length > 0 ? selectedValue.recipeImages[0].recipeImageDir : \"No Image\",\n        title: selectedValue.recipeName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }), React.createElement(CardContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        component: \"p\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, selectedValue.description)), React.createElement(CardContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        paragraph: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, \"Ingredients:\"), selectedValue.ingredientsListFulls && selectedValue.ingredientsListFulls.length > 0 ? React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, selectedValue.ingredientsListFulls.map(function (ingredient) {\n        return React.createElement(\"li\", {\n          key: ingredient.ingredientsListFullID,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174\n          },\n          __self: this\n        }, React.createElement(Typography, {\n          component: \"p\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175\n          },\n          __self: this\n        }, ingredient.ingredientsFull));\n      })) : undefined), React.createElement(CardContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        paragraph: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, \"Method:\"), selectedValue.instructions && selectedValue.instructions.length > 0 ? React.createElement(\"ol\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, selectedValue.instructions.map(function (step) {\n        return React.createElement(\"li\", {\n          key: step.instructionKeyID,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 189\n          },\n          __self: this\n        }, React.createElement(Typography, {\n          component: \"p\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190\n          },\n          __self: this\n        }, step.instruction));\n      })) : undefined))), React.createElement(DialogActions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, isAdmin ? renderAdminDeleteButton : undefined)), React.createElement(Response, {\n        open: this.state.open,\n        onClose: this.handleResponseClose,\n        response: this.state.response,\n        responseTitle: this.state.responseTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Recipe;\n}(Component);\n\nRecipe.propTypes = {\n  classes: PropTypes.object.isRequired,\n  onClose: PropTypes.func,\n  selectedValue: PropTypes.object\n};\nexport default withStyles(styles)(Recipe);","map":{"version":3,"sources":["C:\\Users\\Shivam\\Documents\\Team5848test\\csc648-sp19-team205\\app\\client\\src\\components\\recipe.js"],"names":["React","Component","axios","PropTypes","withStyles","Button","Dialog","blue","Card","CardHeader","CardMedia","CardContent","DialogContent","DialogActions","Avatar","IconButton","Typography","FavoriteIcon","Response","styles","theme","card","maxWidth","media","height","paddingTop","actions","display","expand","transform","marginLeft","transition","transitions","create","duration","shortest","expandOpen","avatar","backgroundColor","color","Recipe","props","handleClose","onClose","selectedValue","handleAddFavorite","userID","recipeID","token","localStorage","headers","post","then","response","console","log","statusText","handleResponse","catch","error","handleAdminDeleteRecipe","data","msg","responseTitle","setState","open","handleResponseClose","state","classes","isAdmin","other","renderAdminDeleteButton","recipeName","recipeImages","length","recipeImageDir","description","ingredientsListFulls","map","ingredient","ingredientsListFullID","ingredientsFull","undefined","instructions","step","instructionKeyID","instruction","propTypes","object","isRequired","func"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport blue from '@material-ui/core/colors/blue';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport Response from './response.js';\r\n\r\nconst styles = theme => ({\r\n\tcard: {\r\n    maxWidth: 400,\r\n  },\r\n  media: {\r\n    height: 0,\r\n    paddingTop: '56.25%', // 16:9\r\n  },\r\n  actions: {\r\n    display: 'flex',\r\n  },\r\n  expand: {\r\n    transform: 'rotate(0deg)',\r\n    marginLeft: 'auto',\r\n    transition: theme.transitions.create('transform', {\r\n      duration: theme.transitions.duration.shortest,\r\n    }),\r\n  },\r\n  expandOpen: {\r\n    transform: 'rotate(180deg)',\r\n  },\r\n  avatar: {\r\n    backgroundColor: blue[100],\r\n    color: blue[600],\r\n  }\r\n});\r\n\r\nclass Recipe extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      open: false,\r\n      response: '',\r\n      responseTitle: '',\r\n    };\r\n  }\r\n\r\n\thandleClose = () => {\r\n    this.props.onClose(this.props.selectedValue);\r\n  };\r\n\r\n  handleAddFavorite = (userID, recipeID) => {\r\n    const token = localStorage.token;\r\n\r\n    const headers = {\r\n      'Authorization': 'Bearer ' + token,\r\n    };\r\n\r\n    if(token) {\r\n      axios.post('/v2/user/favorite/add', {\r\n              userID: userID,\r\n              recipeID: recipeID,\r\n          }, \r\n          {\r\n            headers: headers,\r\n          })\r\n          .then((response) => {\r\n              console.log(response);\r\n              if(response.statusText === \"Created\") {\r\n                this.handleResponse(\"Recipe was successfully added to your favorites.\", \"Success!\");\r\n              }\r\n              else if(response.statusText === \"OK\") {\r\n                this.handleResponse(\"Looks like it's already in your favorites.\", \"Whoops!\");\r\n              }\r\n          })\r\n          .catch((error) => {\r\n              console.log(error);\r\n          });\r\n    }\r\n    else {\r\n      console.log(\"Must be logged in to perform this action\");\r\n    }\r\n  };\r\n\r\n  handleAdminDeleteRecipe = (userID, recipeID) => {\r\n    const token = localStorage.token;\r\n\r\n    const headers = {\r\n      'Authorization': 'Bearer ' + token,\r\n    };\r\n\r\n    axios.post('/v2/admin/deleteRecipe', {\r\n        userID: userID,\r\n        recipeID: recipeID,\r\n    },\r\n    {\r\n      headers: headers,\r\n    })\r\n    .then((response) => {\r\n        console.log(response);\r\n        if(response.data.msg === \"Recipe removed\") {\r\n          this.handleResponse(\"Recipe was successfully removed.\", \"Success!\");\r\n        }\r\n        else {\r\n          this.handleResponse(\"Recipe could not be removed.\", \"Error!\");\r\n        }\r\n    })\r\n    .catch((error) => {\r\n        console.log(error);\r\n    });\r\n    console.log(\"handleAdminDeleteRecipe\");\r\n  };\r\n\r\n  handleResponse = (response, responseTitle) => {\r\n    this.setState({ open: true, response: response, responseTitle: responseTitle });\r\n  };\r\n\r\n  handleResponseClose = () => {\r\n    this.setState({ open: false, response: '', responseTitle: '' });\r\n  };\r\n\t\r\n\trender() {\r\n    const { classes, onClose, selectedValue, userID, isAdmin, ...other } = this.props;\r\n\r\n    const renderAdminDeleteButton = (\r\n      <Button onClick={() => this.handleAdminDeleteRecipe(userID, selectedValue.recipeID)} variant=\"contained\" color=\"primary\">\r\n        Delete\r\n      </Button>\r\n    );\r\n    \r\n    return (\r\n      <div>\r\n        <Dialog scroll=\"paper\" onClose={this.handleClose} aria-labelledby=\"simple-dialog-title\" {...other}>\r\n          <DialogContent>\r\n             <Card className={classes.card}>\r\n              <CardHeader\r\n                avatar={\r\n                  <Avatar aria-label=\"Recipe\" className={classes.avatar}>\r\n                    R\r\n                  </Avatar>\r\n                }\r\n                action={\r\n                  <IconButton onClick={() => this.handleAddFavorite(userID, selectedValue.recipeID)}>\r\n                    <FavoriteIcon/>\r\n                  </IconButton>\r\n                }\r\n                title={selectedValue.recipeName}\r\n              />\r\n              <CardMedia\r\n                className={classes.media}\r\n                image={((selectedValue.recipeImages && selectedValue.recipeImages.length > 0) ? selectedValue.recipeImages[0].recipeImageDir : \"No Image\")}\r\n                title={selectedValue.recipeName}\r\n              />\r\n              <CardContent>\r\n                <Typography component=\"p\">\r\n                  {selectedValue.description}\r\n                </Typography>\r\n              </CardContent>\r\n              <CardContent>\r\n                <Typography paragraph>Ingredients:</Typography>\r\n                {(selectedValue.ingredientsListFulls && selectedValue.ingredientsListFulls.length > 0) ?\r\n                  (<ul>\r\n                    {selectedValue.ingredientsListFulls.map(ingredient => (\r\n                      <li key={ingredient.ingredientsListFullID}>\r\n                        <Typography component=\"p\">\r\n                          {ingredient.ingredientsFull}\r\n                        </Typography>\r\n                      </li>\r\n                    ))}\r\n                  </ul>) :\r\n                  undefined\r\n                }\r\n              </CardContent>\r\n              <CardContent>\r\n                <Typography paragraph>Method:</Typography>\r\n                {(selectedValue.instructions && selectedValue.instructions.length > 0) ?\r\n                  (<ol>\r\n                    {selectedValue.instructions.map(step => (\r\n                      <li key={step.instructionKeyID}>\r\n                        <Typography component=\"p\">\r\n                          {step.instruction}\r\n                        </Typography>\r\n                      </li>\r\n                    ))}\r\n                  </ol>) :\r\n                  undefined\r\n                }\r\n              </CardContent>\r\n            </Card>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            {(isAdmin) ? renderAdminDeleteButton : undefined}\r\n          </DialogActions>\r\n        </Dialog>\r\n        <Response \r\n            open={this.state.open}\r\n            onClose={this.handleResponseClose}\r\n            response={this.state.response}\r\n            responseTitle={this.state.responseTitle}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nRecipe.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  onClose: PropTypes.func,\r\n  selectedValue: PropTypes.object,\r\n};\r\n\r\nexport default withStyles(styles)(Recipe);"]},"metadata":{},"sourceType":"module"}