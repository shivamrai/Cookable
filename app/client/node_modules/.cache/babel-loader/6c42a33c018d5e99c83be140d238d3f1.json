{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\Shivam\\\\Documents\\\\Team5848test\\\\csc648-sp19-team205\\\\app\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"C:\\\\Users\\\\Shivam\\\\Documents\\\\Team5848test\\\\csc648-sp19-team205\\\\app\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Shivam\\\\Documents\\\\Team5848test\\\\csc648-sp19-team205\\\\app\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Shivam\\\\Documents\\\\Team5848test\\\\csc648-sp19-team205\\\\app\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Shivam\\\\Documents\\\\Team5848test\\\\csc648-sp19-team205\\\\app\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Shivam\\\\Documents\\\\Team5848test\\\\csc648-sp19-team205\\\\app\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _defineProperty from \"C:\\\\Users\\\\Shivam\\\\Documents\\\\Team5848test\\\\csc648-sp19-team205\\\\app\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\Shivam\\\\Documents\\\\Team5848test\\\\csc648-sp19-team205\\\\app\\\\client\\\\src\\\\components\\\\pantry.js\";\nimport React, { Component } from \"react\";\nimport classNames from 'classnames';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport axios from \"axios\";\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport TextField from '@material-ui/core/TextField';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport Recipe from '../components/recipe.js';\n\nvar styles = function styles(theme) {\n  return {\n    appBar: {\n      position: 'relative'\n    },\n    icon: {\n      marginRight: theme.spacing.unit * 2\n    },\n    heroUnit: {\n      backgroundColor: theme.palette.background.paper\n    },\n    heroContent: {\n      maxWidth: 600,\n      margin: '0 auto',\n      padding: \"\".concat(theme.spacing.unit * 8, \"px 0 \").concat(theme.spacing.unit * 6, \"px\")\n    },\n    heroButtons: {\n      marginTop: theme.spacing.unit * 4,\n      marginBottom: theme.spacing.unit * 4\n    },\n    layout: _defineProperty({\n      width: 'auto',\n      marginLeft: theme.spacing.unit * 3,\n      marginRight: theme.spacing.unit * 3\n    }, theme.breakpoints.up(1100 + theme.spacing.unit * 3 * 2), {\n      width: 1100,\n      marginLeft: 'auto',\n      marginRight: 'auto'\n    }),\n    cardGrid: {\n      padding: \"\".concat(theme.spacing.unit * 8, \"px 0\")\n    },\n    card: {\n      height: '100%',\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    cardMedia: {\n      paddingTop: '56.25%' // 16:9\n\n    },\n    cardContent: {\n      flexGrow: 1\n    },\n    footer: {\n      backgroundColor: theme.palette.background.paper,\n      padding: theme.spacing.unit * 6\n    },\n    button: {\n      paddingLeft: 15,\n      flexDirection: 'row',\n      justifyContent: 'space-between'\n    }\n  };\n};\n\nfunction Transition(props) {\n  return React.createElement(Slide, Object.assign({\n    direction: \"up\"\n  }, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }));\n}\n\nvar pantryItemsforSearch = [];\n\nvar Pantry =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Pantry, _Component);\n\n  function Pantry(props) {\n    var _this;\n\n    _classCallCheck(this, Pantry);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Pantry).call(this, props));\n\n    _this.handleClickOpen = function (recipeID) {\n      _this.handleRecipeRetrieval(recipeID);\n\n      _this.setState({\n        openRecipe: true\n      });\n    };\n\n    _this.handleChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.handleAddChange = function (event) {\n      _this.setState({\n        ingredientName: event.target.value\n      });\n    };\n\n    _this.handlePageChange = function (page) {\n      _this.props.handlePageChange(page);\n    };\n\n    _this.handleOpen = function () {\n      _this.setState({\n        open: true\n      });\n    };\n\n    _this.handleClose = function () {\n      _this.setState({\n        open: false\n      });\n    };\n\n    _this.handleRecipeClose = function () {\n      _this.setState({\n        openRecipe: false\n      });\n    };\n\n    _this.handleClickCloseListofRecipes = function () {\n      _this.setState({\n        openRecipes: false\n      });\n    };\n\n    _this.handleClickOpenListofRecipes = function (event) {\n      _this.handleSearchRecipes();\n\n      _this.setState({\n        openRecipes: true\n      });\n    };\n\n    _this.handleAddedClose = function (event) {\n      // Use '/api/v2/ingredient/add' when is production.\n      // Use 'v2/v2/ingredient/add when on local machine.\n      //example ingredient/add?userID=1012\n      axios.post('/v2/user/addToPantry', {\n        userID: _this.props.user.userID,\n        ingredientName: _this.state.ingredientName\n      }).then(function (response) {\n        if (response.data === false) {\n          console.log(\"Pantry could not be added.\");\n          console.log(response);\n        } else {\n          console.log(response);\n\n          _this.handlePantryItems(_this.props.user.userID);\n\n          console.log('pantry items retrieved');\n          console.log(_this.state.pantryItems);\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n\n      _this.setState({\n        open: false\n      });\n    };\n\n    _this.handleSearchRecipes = function (event) {\n      var pantry = _this.state.pantryItems; // Use '/api/v1/getIngredient' when is production.\n      // Use '/v1/getIngredient' when on local machine.\n      //example getIngredient?userID=1012\n\n      console.log(pantryItemsforSearch);\n      axios.post('/v2/recipe/search/pantry', {\n        list: pantryItemsforSearch\n      }).then(function (response) {\n        if (response.data.length === 0) {\n          console.log(\"Pantry could not be retreived.\");\n          console.log(response);\n        } else {\n          console.log(response);\n\n          _this.setState({\n            pantryItems: response.data\n          });\n\n          console.log('pantry items retrieved');\n          console.log(_this.state.pantryItems);\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.handlePantryItems = function (event) {\n      // Use '/api/v1/getIngredient' when is production.\n      // Use '/v1/getIngredient' when on local machine.\n      //example getIngredient?userID=1012\n      axios.get('/v2/user/pantry', {\n        params: {\n          userID: _this.props.user.userID\n        }\n      }).then(function (response) {\n        if (response.data.length === 0) {\n          console.log(\"Pantry could not be retreived.\");\n          console.log(response);\n        } else {\n          console.log(response);\n\n          _this.setState({\n            pantryItems: response.data\n          });\n\n          console.log('pantry items retrieved');\n          console.log(_this.state.pantryItems);\n\n          for (var i = 0; i < _this.state.pantryItems.length; i++) {\n            pantryItemsforSearch.push(_this.state.pantryItems[i].ingredientName);\n          }\n\n          console.log(pantryItemsforSearch);\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.handleClickRemoveFromPantry = function (userID, ingredientID) {\n      var token = localStorage.token;\n      var headers = {\n        'Authorization': 'Bearer ' + token\n      };\n\n      if (token) {\n        //this.handleFavoriteRemoval(userID, recipeID);\n        // this.setState({\n        //     open: false,\n        // });\n        // Use '/api//v2/user/removefromPantry' when is production.\n        // Use '/v2/user/removefromPantry' when on local machine.\n        //example removefromPantry?userID=1012\n        axios.post('/v2/user/removefromPantry', {\n          userID: userID,\n          ingredientID: ingredientID\n        }, {\n          headers: headers\n        }).then(function (response) {\n          if (response.data.length === 0) {\n            console.log(\"Favorite item could not be removed.\");\n            console.log(response);\n          } else {\n            console.log(response);\n\n            var pantryItems = _toConsumableArray(_this.state.pantryItems);\n\n            pantryItems.splice(ingredientID, 1);\n\n            _this.setState({\n              pantryItems: pantryItems\n            });\n\n            console.log('Favorite item deleted');\n            console.log(_this.state.pantryItems);\n\n            _this.handlePantryItems(userID);\n          }\n        }).catch(function (error) {\n          console.log(headers);\n          console.log(error);\n        });\n      }\n    };\n\n    _this.handleRecipeRetrieval = function (recipeID) {\n      axios.get('/v2/recipe/' + recipeID).then(function (response) {\n        if (response.data.length === 0) {\n          console.log(\"Could not retrieve recipe.\");\n          console.log(response);\n        } else {\n          console.log(response);\n\n          _this.setState({\n            selectedValue: response.data\n          });\n\n          console.log(_this.state.selectedValue);\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.state = {\n      pantryItems: [],\n      open: false,\n      ingredientName: \"\",\n      openRecipes: false,\n      openRecipe: false,\n      recipeItems: [],\n      selectedValue: {}\n    };\n    return _this;\n  }\n\n  _createClass(Pantry, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.handlePantryItems();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var classes = this.props.classes;\n      var data = this.state.pantryItems;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        style: styles.pageTitle,\n        variant: \"headline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302\n        },\n        __self: this\n      }, \"Pantry\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304\n        },\n        __self: this\n      }, React.createElement(Button, {\n        id: \"getRecipesUsingIngredients\",\n        variant: \"contained\",\n        className: classes.button,\n        onClick: this.handleClickOpenListofRecipes,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305\n        },\n        __self: this\n      }, \"Get Recipes\"), React.createElement(Dialog, {\n        fullScreen: true,\n        open: this.state.openRecipes,\n        onClose: this.handleClose,\n        TransitionComponent: Transition,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308\n        },\n        __self: this\n      }, React.createElement(AppBar, {\n        className: classes.appBar,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314\n        },\n        __self: this\n      }, React.createElement(Toolbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315\n        },\n        __self: this\n      }, React.createElement(IconButton, {\n        color: \"inherit\",\n        onClick: this.handleClickCloseListofRecipes,\n        \"aria-label\": \"Close\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316\n        },\n        __self: this\n      }, React.createElement(CloseIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317\n        },\n        __self: this\n      })), React.createElement(Typography, {\n        variant: \"h6\",\n        color: \"inherit\",\n        className: classes.flex,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319\n        },\n        __self: this\n      }, \"List of Recipes Possible\"))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        spacing: 40,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325\n        },\n        __self: this\n      }, data.map(function (recipeItems) {\n        return React.createElement(Grid, {\n          item: true,\n          key: recipeItems.recipeID,\n          sm: 6,\n          md: 4,\n          lg: 3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 327\n          },\n          __self: this\n        }, React.createElement(Card, {\n          className: classes.card,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 328\n          },\n          __self: this\n        }, React.createElement(CardMedia, {\n          className: classes.cardMedia,\n          image: recipeItems.recipeImageDir,\n          title: \"Image title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 329\n          },\n          __self: this\n        }), React.createElement(CardContent, {\n          className: classes.cardContent,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 334\n          },\n          __self: this\n        }, React.createElement(Typography, {\n          gutterBottom: true,\n          variant: \"h5\",\n          component: \"h2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 335\n          },\n          __self: this\n        }, recipeItems.recipeName)), React.createElement(CardActions, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 339\n          },\n          __self: this\n        }, React.createElement(Button, {\n          size: \"small\",\n          color: \"primary\",\n          onClick: function onClick() {\n            return _this2.handleClickOpen(recipeItems.recipeID);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 340\n          },\n          __self: this\n        }, \"View\"))));\n      }))))), React.createElement(\"div\", {\n        className: classNames(classes.layout, classes.cardGrid),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 351\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        spacing: 40,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352\n        },\n        __self: this\n      }, data.map(function (pantryItem) {\n        return React.createElement(Grid, {\n          item: true,\n          key: pantryItem.pantryID,\n          sm: 6,\n          md: 4,\n          lg: 3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 354\n          },\n          __self: this\n        }, React.createElement(Card, {\n          className: classes.card,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 355\n          },\n          __self: this\n        }, React.createElement(CardMedia, {\n          className: classes.cardMedia,\n          image: \"https://static.thenounproject.com/png/489212-200.png\" // eslint-disable-line max-len\n          ,\n          title: \"Image title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 356\n          },\n          __self: this\n        }), React.createElement(CardContent, {\n          className: classes.cardContent,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 361\n          },\n          __self: this\n        }, React.createElement(Typography, {\n          gutterBottom: true,\n          variant: \"h5\",\n          component: \"h2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 362\n          },\n          __self: this\n        }, pantryItem.ingredientName)), React.createElement(CardActions, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 366\n          },\n          __self: this\n        }, React.createElement(Button, {\n          size: \"small\",\n          color: \"primary\",\n          onClick: function onClick() {\n            return _this2.handleClickRemoveFromPantry(_this2.props.user.userID, pantryItem.ingredientID);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 367\n          },\n          __self: this\n        }, \"Remove\"))));\n      }))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 376\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"contained\",\n        className: classes.button,\n        onClick: this.handleOpen,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 377\n        },\n        __self: this\n      }, \"Add Ingredients\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 381\n        },\n        __self: this\n      }, React.createElement(Dialog, {\n        open: this.state.open,\n        onClose: this.handleClose,\n        \"aria-labelledby\": \"form-dialog-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 382\n        },\n        __self: this\n      }, React.createElement(DialogTitle, {\n        id: \"form-dialog-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 387\n        },\n        __self: this\n      }, \"Add Ingredients\"), React.createElement(DialogContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 388\n        },\n        __self: this\n      }, React.createElement(DialogContentText, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389\n        },\n        __self: this\n      }, \"Start typing name to add ingredient, ingredient would be added if not exists in cookable database.\"), React.createElement(TextField, {\n        autoFocus: true,\n        margin: \"dense\",\n        id: \"ingredientName\",\n        label: \"Enter Ingredient Name\" //type=\"email\"\n        ,\n        fullWidth: true,\n        onChange: this.handleAddChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 392\n        },\n        __self: this\n      })), React.createElement(DialogActions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 402\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.handleClose,\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 403\n        },\n        __self: this\n      }, \"Cancel\"), React.createElement(Button, {\n        onClick: function onClick() {\n          return _this2.handleAddedClose();\n        },\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 406\n        },\n        __self: this\n      }, \"Add Ingredient\")))), React.createElement(Recipe, {\n        selectedValue: this.state.selectedValue,\n        open: this.state.openRecipe,\n        onClose: this.handleRecipeClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 412\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Pantry;\n}(Component);\n\nPantry.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(Pantry);","map":{"version":3,"sources":["C:\\Users\\Shivam\\Documents\\Team5848test\\csc648-sp19-team205\\app\\client\\src\\components\\pantry.js"],"names":["React","Component","classNames","Button","Card","CardActions","CardContent","CardMedia","Grid","Typography","PropTypes","withStyles","axios","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","TextField","AppBar","Toolbar","IconButton","CloseIcon","Slide","Recipe","styles","theme","appBar","position","icon","marginRight","spacing","unit","heroUnit","backgroundColor","palette","background","paper","heroContent","maxWidth","margin","padding","heroButtons","marginTop","marginBottom","layout","width","marginLeft","breakpoints","up","cardGrid","card","height","display","flexDirection","cardMedia","paddingTop","cardContent","flexGrow","footer","button","paddingLeft","justifyContent","Transition","props","pantryItemsforSearch","Pantry","handleClickOpen","recipeID","handleRecipeRetrieval","setState","openRecipe","handleChange","event","target","name","value","handleAddChange","ingredientName","handlePageChange","page","handleOpen","open","handleClose","handleRecipeClose","handleClickCloseListofRecipes","openRecipes","handleClickOpenListofRecipes","handleSearchRecipes","handleAddedClose","post","userID","user","state","then","response","data","console","log","handlePantryItems","pantryItems","catch","error","pantry","list","length","get","params","i","push","handleClickRemoveFromPantry","ingredientID","token","localStorage","headers","splice","selectedValue","recipeItems","classes","pageTitle","flex","map","recipeImageDir","recipeName","pantryItem","pantryID","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport classNames from 'classnames';\r\nimport Button from '@material-ui/core/Button';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport axios from \"axios\";\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport Recipe from '../components/recipe.js';\r\n\r\n\r\n\r\nconst styles = theme => ({\r\n\tappBar: {\r\n\t\tposition: 'relative',\r\n\t},\r\n\ticon: {\r\n\t\tmarginRight: theme.spacing.unit * 2,\r\n\t},\r\n\theroUnit: {\r\n\t\tbackgroundColor: theme.palette.background.paper,\r\n\t},\r\n\theroContent: {\r\n\t\tmaxWidth: 600,\r\n\t\tmargin: '0 auto',\r\n\t\tpadding: `${theme.spacing.unit * 8}px 0 ${theme.spacing.unit * 6}px`,\r\n\t},\r\n\theroButtons: {\r\n\t\tmarginTop: theme.spacing.unit * 4,\r\n\t\tmarginBottom: theme.spacing.unit * 4,\r\n\t},\r\n\tlayout: {\r\n\t\twidth: 'auto',\r\n\t\tmarginLeft: theme.spacing.unit * 3,\r\n\t\tmarginRight: theme.spacing.unit * 3,\r\n\t\t[theme.breakpoints.up(1100 + theme.spacing.unit * 3 * 2)]: {\r\n\t\t\twidth: 1100,\r\n\t\t\tmarginLeft: 'auto',\r\n\t\t\tmarginRight: 'auto',\r\n\t\t},\r\n\t},\r\n\tcardGrid: {\r\n\t\tpadding: `${theme.spacing.unit * 8}px 0`,\r\n\t},\r\n\tcard: {\r\n\t\theight: '100%',\r\n\t\tdisplay: 'flex',\r\n\t\tflexDirection: 'column',\r\n\t},\r\n\tcardMedia: {\r\n\t\tpaddingTop: '56.25%', // 16:9\r\n\t},\r\n\tcardContent: {\r\n\t\tflexGrow: 1,\r\n\t},\r\n\tfooter: {\r\n\t\tbackgroundColor: theme.palette.background.paper,\r\n\t\tpadding: theme.spacing.unit * 6,\r\n\t},\r\n\tbutton: {\r\n\t\tpaddingLeft: 15,\r\n\t\tflexDirection: 'row',\r\n\t\tjustifyContent: 'space-between',\r\n\t}\r\n});\r\n\r\nfunction Transition(props) {\r\n  return <Slide direction=\"up\" {...props} />;\r\n}\r\n\r\nlet pantryItemsforSearch = [];\r\n\r\nclass Pantry extends Component {\r\n\t\r\n    \t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tpantryItems: [],\r\n\t\t\topen: false,\r\n\t\t\tingredientName: \"\",\r\n\t\t\topenRecipes : false,\r\n\t\t\topenRecipe: false,\r\n\t\t\trecipeItems: [],\r\n\t\t\tselectedValue: {}\r\n\t\t};\r\n\t};\r\n\r\n\thandleClickOpen = (recipeID) => {\r\n\t\tthis.handleRecipeRetrieval(recipeID);\r\n\t\tthis.setState({\r\n\t\t  openRecipe: true,\r\n\t\t});\r\n\t};\r\n\r\n\thandleChange = event => {\r\n\t\tthis.setState({ \r\n\t\t\t[event.target.name]: event.target.value });\r\n\t};\r\n\r\n\thandleAddChange = event => {\r\n\t\tthis.setState({\r\n\t\t\tingredientName: event.target.value });\r\n\t};\r\n\t\r\n\thandlePageChange = (page) => {\r\n\t\tthis.props.handlePageChange(page);\r\n\t};\r\n\r\n\thandleOpen = () => {\r\n    this.setState({ open: true });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ open: false });\r\n\t};\r\n\r\n\thandleRecipeClose = () => {\r\n\t\tthis.setState({ openRecipe: false });\r\n\t};\r\n\r\n\thandleClickCloseListofRecipes = () => {\r\n\t\tthis.setState({ openRecipes: false});\r\n\t};\r\n\t\r\n\thandleClickOpenListofRecipes = event => {\r\n\t\tthis.handleSearchRecipes();\r\n\t\tthis.setState({ openRecipes: true});\r\n\t};\r\n\t\r\n\thandleAddedClose = event => {\r\n\t\t// Use '/api/v2/ingredient/add' when is production.\r\n\t\t// Use 'v2/v2/ingredient/add when on local machine.\r\n\t\t//example ingredient/add?userID=1012\r\n\t\taxios.post('/v2/user/addToPantry',{\r\n\t\t\t\r\n\t\t\tuserID: this.props.user.userID,\r\n\t\t\tingredientName: this.state.ingredientName\r\n\t\t})\r\n\t\t.then((response) => {\r\n\t\t\tif(response.data === false) {\r\n\t\t\t\tconsole.log(\"Pantry could not be added.\");\r\n\t\t\t\tconsole.log(response);\r\n\t\t\t}\r\n\t\t\telse \r\n\t\t\t{\r\n\t\t\t\tconsole.log(response);\r\n\t\t\t\tthis.handlePantryItems(this.props.user.userID);\r\n\t\t\t\tconsole.log('pantry items retrieved');\r\n\t\t\t\tconsole.log(this.state.pantryItems);\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch((error) => {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n\t\tthis.setState({open: false});\r\n\t};\r\n\t\r\n\thandleSearchRecipes = event => {\r\n\t\tconst pantry = this.state.pantryItems;\r\n\t\t// Use '/api/v1/getIngredient' when is production.\r\n\t\t// Use '/v1/getIngredient' when on local machine.\r\n\t\t//example getIngredient?userID=1012\r\n\t\tconsole.log(pantryItemsforSearch);\r\n\t\taxios.post('/v2/recipe/search/pantry',{\r\n\t\t\tlist: pantryItemsforSearch\r\n\t\t})\r\n\t\t.then((response) => {\r\n\t\t\tif(response.data.length === 0) {\r\n\t\t\t\tconsole.log(\"Pantry could not be retreived.\");\r\n\t\t\t\tconsole.log(response);\r\n\t\t\t}\r\n\t\t\telse \r\n\t\t\t{\r\n\t\t\t\tconsole.log(response);\r\n\t\t\t\tthis.setState({ pantryItems: response.data });\r\n\t\t\t\tconsole.log('pantry items retrieved');\r\n\t\t\t\tconsole.log(this.state.pantryItems);\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch((error) => {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n\t};\r\n\r\n\thandlePantryItems = event => {\r\n\t\t// Use '/api/v1/getIngredient' when is production.\r\n\t\t// Use '/v1/getIngredient' when on local machine.\r\n\t\t//example getIngredient?userID=1012\r\n\t\taxios.get('/v2/user/pantry',{\r\n\t\t\tparams: {\r\n\t\t\t\tuserID: this.props.user.userID\r\n\t\t\t}\r\n\t\t})\r\n\t\t.then((response) => {\r\n\t\t\tif(response.data.length === 0) {\r\n\t\t\t\tconsole.log(\"Pantry could not be retreived.\");\r\n\t\t\t\tconsole.log(response);\r\n\t\t\t}\r\n\t\t\telse \r\n\t\t\t{\r\n\t\t\t\tconsole.log(response);\r\n\t\t\t\tthis.setState({ pantryItems: response.data });\r\n\t\t\t\tconsole.log('pantry items retrieved');\r\n\t\t\t\tconsole.log(this.state.pantryItems);\r\n\t\t\t\tfor(let i=0; i< this.state.pantryItems.length; i++) {\r\n\t\t\t\t\tpantryItemsforSearch.push(this.state.pantryItems[i].ingredientName);\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(pantryItemsforSearch);\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch((error) => {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n\t};\r\n\r\n\thandleClickRemoveFromPantry = (userID, ingredientID) => {\r\n\t\tconst token = localStorage.token;\r\n\t\tconst headers = {\r\n\t'Authorization': 'Bearer ' + token,\r\n\t\t};\r\n\t\tif (token) {\r\n\t\t\t\t//this.handleFavoriteRemoval(userID, recipeID);\r\n\t\t\t\t// this.setState({\r\n\t\t\t\t//     open: false,\r\n\t\t\t\t// });\r\n\t\t\t\t// Use '/api//v2/user/removefromPantry' when is production.\r\n\t\t\t\t// Use '/v2/user/removefromPantry' when on local machine.\r\n\t\t\t\t//example removefromPantry?userID=1012\r\n\t\t\t\taxios.post('/v2/user/removefromPantry',{\r\n\t\t\t\t\t\t\t\tuserID: userID,\r\n\t\t\t\t\t\t\t\tingredientID: ingredientID,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\theaders: headers\r\n\t\t\t\t\t\t})\r\n\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\tif(response.data.length === 0) {\r\n\t\t\t\t\t\t\t\tconsole.log(\"Favorite item could not be removed.\");\r\n\t\t\t\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t\t\t\t\tlet pantryItems = [...this.state.pantryItems];\r\n\t\t\t\t\t\t\t\tpantryItems.splice(ingredientID, 1);\r\n\t\t\t\t\t\t\t\tthis.setState({ pantryItems: pantryItems });\r\n\t\t\t\t\t\t\t\tconsole.log('Favorite item deleted');\r\n\t\t\t\t\t\t\t\tconsole.log(this.state.pantryItems);\r\n\t\t\t\t\t\t\t\tthis.handlePantryItems(userID);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\tconsole.log(headers);\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\thandleRecipeRetrieval = (recipeID) => {\r\n\t\taxios.get(('/v2/recipe/' + recipeID))\r\n\t  .then((response) => {\r\n\t\tif(response.data.length === 0) {\r\n\t\t\tconsole.log(\"Could not retrieve recipe.\");\r\n\t\t  console.log(response);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tconsole.log(response);\r\n\t\t  this.setState({ selectedValue: response.data });\r\n\t\t  console.log(this.state.selectedValue);\r\n\t\t}\r\n\t  })\r\n\t  .catch((error) => {\r\n\t\tconsole.log(error);\r\n\t  });\r\n\t};\r\n\t\r\n\tcomponentWillMount() {\r\n\t\tthis.handlePantryItems();\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\t\tconst data = this.state.pantryItems;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Typography style={styles.pageTitle} variant=\"headline\">Pantry</Typography>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Button id=\"getRecipesUsingIngredients\" variant=\"contained\" className={classes.button} onClick={this.handleClickOpenListofRecipes}>\r\n\t\t\t\t\t\tGet Recipes\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Dialog\r\n\t\t\t\t\t\tfullScreen\r\n\t\t\t\t\t\topen={this.state.openRecipes}\r\n\t\t\t\t\t\tonClose={this.handleClose}\r\n\t\t\t\t\t\tTransitionComponent={Transition}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<AppBar className={classes.appBar}>\r\n\t\t\t\t\t\t\t<Toolbar>\r\n\t\t\t\t\t\t\t\t<IconButton color=\"inherit\" onClick={this.handleClickCloseListofRecipes} aria-label=\"Close\">\r\n\t\t\t\t\t\t\t\t\t<CloseIcon />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t<Typography variant=\"h6\" color=\"inherit\" className={classes.flex}>\r\n\t\t\t\t\t\t\t\t\tList of Recipes Possible\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Toolbar>\r\n\t\t\t\t\t\t</AppBar>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Grid container spacing={40}>\r\n\t\t\t\t\t\t\t\t{data.map(recipeItems => (\r\n\t\t\t\t\t\t\t\t\t<Grid item key={recipeItems.recipeID} sm={6} md={4} lg={3}>\r\n\t\t\t\t\t\t\t\t\t\t<Card className={classes.card}>\r\n\t\t\t\t\t\t\t\t\t\t\t<CardMedia\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.cardMedia}\r\n\t\t\t\t\t\t\t\t\t\t\t\timage={recipeItems.recipeImageDir}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttitle=\"Image title\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<CardContent className={classes.cardContent}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{recipeItems.recipeName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</CardContent>\r\n\t\t\t\t\t\t\t\t\t\t\t<CardActions>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button size=\"small\" color=\"primary\" onClick={() => this.handleClickOpen(recipeItems.recipeID)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tView\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</CardActions>\r\n\t\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t</Grid>\t\t\t\r\n\t\t\t\t\t\t\t\t))}\t\t\t\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Dialog>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={classNames(classes.layout, classes.cardGrid)}>\r\n\t\t\t\t\t<Grid container spacing={40}>\r\n\t\t\t\t\t\t{data.map(pantryItem => (\r\n\t\t\t\t\t\t\t<Grid item key={pantryItem.pantryID} sm={6} md={4} lg={3}>\r\n\t\t\t\t\t\t\t\t<Card className={classes.card}>\r\n\t\t\t\t\t\t\t\t\t<CardMedia\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.cardMedia}\r\n\t\t\t\t\t\t\t\t\t\timage=\"https://static.thenounproject.com/png/489212-200.png\" // eslint-disable-line max-len\r\n\t\t\t\t\t\t\t\t\t\ttitle=\"Image title\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<CardContent className={classes.cardContent}>\r\n\t\t\t\t\t\t\t\t\t\t<Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n\t\t\t\t\t\t\t\t\t\t\t{pantryItem.ingredientName}\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</CardContent>\r\n\t\t\t\t\t\t\t\t\t<CardActions>\r\n\t\t\t\t\t\t\t\t\t<Button size=\"small\" color=\"primary\" onClick={() => this.handleClickRemoveFromPantry(this.props.user.userID ,pantryItem.ingredientID)}>\r\n\t\t\t\t\t\t\t\t\t\t\tRemove\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</CardActions>\r\n\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t</Grid>\t\t\t\r\n\t\t\t\t\t\t))}\t\t\t\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Button variant=\"contained\" className={classes.button} onClick={this.handleOpen}>\r\n                    Add Ingredients\r\n          </Button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t<Dialog\r\n          open={this.state.open}\r\n          onClose={this.handleClose}\r\n          aria-labelledby=\"form-dialog-title\"\r\n        >\r\n          <DialogTitle id=\"form-dialog-title\">Add Ingredients</DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText>\r\n              Start typing name to add ingredient, ingredient would be added if not exists in cookable database.\r\n            </DialogContentText>\r\n            <TextField\r\n              autoFocus\r\n              margin=\"dense\"\r\n              id=\"ingredientName\"\r\n              label=\"Enter Ingredient Name\"\r\n              //type=\"email\"\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tonChange = {this.handleAddChange}\r\n            />\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.handleClose} color=\"primary\">\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={() => this.handleAddedClose()} color=\"primary\">\r\n              Add Ingredient\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Recipe\r\n\t          selectedValue={this.state.selectedValue}\r\n\t          open={this.state.openRecipe}\r\n\t          onClose={this.handleRecipeClose}\r\n        \t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nPantry.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n  };\r\n\r\nexport default withStyles(styles)(Pantry);"]},"metadata":{},"sourceType":"module"}